% arara: pdflatex
% !arara: makeglossaries
% !arara: pdflatex
\documentclass[11pt,twoside]{report}
%= == == == == == == == == == == =
%
% Document details: Program review for the mathematics department
%       at Portland Community College, Portland OR
%
%       Prepared in Fall 2013
%
%= == == == == == == == == == == =
\usepackage[left=3.5cm,right=1.5cm,showframe=false,
top=2cm,bottom=1.5cm,asymmetric=true,bindingoffset=1cm]{geometry}               
\usepackage{parskip}
\usepackage{titlesec}
\usepackage{booktabs}
\usepackage{longtable}
\usepackage{standalone}
\usepackage{titlepic}
\usepackage{tablefootnote}
\usepackage[charter]{mathdesign}
\usepackage{siunitx}
\usepackage{pgfplotstable}
\usepackage{hyperref}
\usepackage{cleveref}
\usepackage{refcheck} % remove once the document is completed

% hyperlink setup
\hypersetup{colorlinks=true,
	linkcolor=blue
}

% cleveref settings
\crefname{table}{Table}{Tables}
\Crefname{table}{Table}{Tables}
\crefname{figure}{Figure}{Figures}
\Crefname{figure}{Figure}{Figures}

% glossaries settings- load after hyperref: http://tex.stackexchange.com/questions/1863/which-packages-should-be-loaded-after-hyperref-instead-of-before
%\usepackage[nonumberlist,section=chapter]{glossaries}
\usepackage[section=chapter,toc]{glossaries}
% make the links black
\renewcommand*{\glstextformat}[1]{\textcolor{black}{#1}} 
% basic vocab
\newglossaryentry{SAC}{name=SAC,description={Section Area Committee}}
\newglossaryentry{WRC}{name=WRC,description={Women's Resource Center}}
\newglossaryentry{ALC}{name=ALC,description={Alternative Learning Center}}
\newglossaryentry{AMP}{name=AMP,description={Accelerated Mathematics Program}}
\newglossaryentry{MML}{name=MML,description={MyMathLab-- a commercial, publisher-owned homework management system }}
\newglossaryentry{LDC}{name=LDC,description={Lower Division Collegiate}} 
\newglossaryentry{DL}{name=DL,description={Distance Learning}} 
\makeglossaries

% to do:
%   - tcolorbox around title and toc, or perhaps pretty toc?
%           http://tex.stackexchange.com/questions/35825/pretty-table-of-contents
%   - glossary items, and update glossary entries throughout using perl script
%   - make consistent choice about on-campus, oncampus, on campus, online
%   - check that all sections in the appendix are referenced in the body 
%       (use refcheck package to check the output and grep the log file)
%   - address all fixthis issues (check output and .log file)
%   - check for undefined references, multiply defined labels- grep log file

% Define fix command
% 	- it puts a comment in the margin
% 	- it writes to a file with a list of things that need fixing
\newcommand{\fixthis}[1]
{%
	\marginpar{\huge \color{red} \framebox{FIX}}%
	\typeout{FIXTHIS: p\thepage : #1^^J}%
}

%Title page info
\title{A Review of the Mathematics Program/Discipline at Portland Community College}
\date{Fall 2008 -- Fall 2013}
\titlepic{\includegraphics[width=\textwidth]{./50th_mathematicsproof}}

% custom chapter
\titleformat{\chapter}[display]
{\normalfont\Large\filcenter\bf}
{}
{1pc}
{\Huge\thechapter--~}

% \chapter*
\titleformat{name=\chapter,numberless}
{\normalfont\huge\bfseries}{}{-20pt}{\Huge}

% custom section
\titleformat{\section}
{\itshape}
{\llap{\vbox to 5pt{\hbox{\resizebox{1cm}{!}{\normalfont\thesection}}}\hskip 9pt}}
{0pt}
{}

% spacing around headings
% From the titlesec package
% \titlespacing{command}{left spacing}{before spacing}{after spacing}[right]
% spacing: how to read {12pt plus 4pt minus 2pt}
%           12pt is what we would like the spacing to be
%           plus 4pt means that TeX can stretch it by at most 4pt
%           minus 2pt means that TeX can shrink it by at most 2pt
%       This is one example of the concept of, 'glue', in TeX
\titlespacing{\chapter}{0pt}{*4}{0.1cm}
\titlespacing\section{0pt}{12pt plus 4pt minus 2pt}{5pt plus 2pt minus 2pt}
\titlespacing\subsection{0pt}{12pt plus 4pt minus 2pt}{-6pt plus 2pt minus 2pt}

% secnumdepth dictates which headings get enumerated- setting it 
% to 1 means that chapters and sections get enumerated, but 
% no headings below them will (such as subsection, subsubsection, paragraph, etc)
\setcounter{secnumdepth}{1}

\includeonly{OtherCurricularIssues}
\begin{document}

% The following lines should be uncommented in the final (production) version
%\maketitle
%\tableofcontents
%\printglossary

%= == == == == == == == == == == =
% main chapters
%= == == == == == == == == == == =
\renewcommand{\thesection}{\Alph{section}}
\include{OtherCurricularIssues}

%= == == == == == == == == == == =
% appendices
%= == == == == == == == == == == =
\appendix
\renewcommand{\thesection}{\arabic{section}}
\include{changeinALCcourses}
\include{coreOutcomesMapping}
\include{courseScheduling}
\include{dlsurveysummary}
\include{onlineHwStudy}
\include{accessibilitysummary}
\include{ALEKSpilot}
\include{enrollmentSummaries}


\end{document}
